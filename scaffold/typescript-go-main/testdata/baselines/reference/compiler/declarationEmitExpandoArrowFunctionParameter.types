//// [tests/cases/compiler/declarationEmitExpandoArrowFunctionParameter.ts] ////

=== component.ts ===
interface Props<T extends string = string> {
    colors: Array<T>;
>colors : T[]

    value: T;
>value : T

    onValueChange: (value: T) => void;
>onValueChange : (value: T) => void
>value : T

    disabled?: boolean;
>disabled : boolean | undefined
}

declare function forwardRef<T, P>(
>forwardRef : <T, P>(render: (props: P, ref: { current: T | null; }) => string) => (props: P & { ref?: { current: T | null; } | undefined; }) => string

    render: (props: P, ref: { current: T | null }) => string
>render : (props: P, ref: { current: T | null; }) => string
>props : P
>ref : { current: T | null; }
>current : T | null

): (props: P & { ref?: { current: T | null } }) => string;
>props : P & { ref?: { current: T | null; } | undefined; }
>ref : { current: T | null; } | undefined
>current : T | null

type FixedForwardRef = <T, P = {}>(
>FixedForwardRef : FixedForwardRef

    render: (props: P, ref: { current: T | null }) => string
>render : (props: P, ref: { current: T | null; }) => string
>props : P
>ref : { current: T | null; }
>current : T | null

) => (props: P & { ref?: { current: T | null } }) => string;
>props : P & { ref?: { current: T | null; } | undefined; }
>ref : { current: T | null; } | undefined
>current : T | null

const GenericForwardRef = forwardRef as FixedForwardRef;
>GenericForwardRef : FixedForwardRef
>forwardRef as FixedForwardRef : FixedForwardRef
>forwardRef : <T, P>(render: (props: P, ref: { current: T | null; }) => string) => (props: P & { ref?: { current: T | null; } | undefined; }) => string

function Inner<T extends string>(
>Inner : <T extends string>({ disabled, value, onValueChange, colors }: Props<T>, ref: { current: HTMLButtonElement | null; }) => string

    { disabled, value, onValueChange, colors }: Props<T>,
>disabled : boolean | undefined
>value : T
>onValueChange : (value: T) => void
>colors : T[]

    ref: { current: HTMLButtonElement | null }
>ref : { current: HTMLButtonElement | null; }
>current : HTMLButtonElement | null

) {
    return "rendered";
>"rendered" : "rendered"
}

export const ColorPicker = GenericForwardRef(Inner);
>ColorPicker : <T extends string>(props: Props<T> & { ref?: { current: HTMLButtonElement | null; } | undefined; }) => string
>GenericForwardRef(Inner) : <T extends string>(props: Props<T> & { ref?: { current: HTMLButtonElement | null; } | undefined; }) => string
>GenericForwardRef : FixedForwardRef
>Inner : <T extends string>({ disabled, value, onValueChange, colors }: Props<T>, ref: { current: HTMLButtonElement | null; }) => string

=== story.ts ===
import { ColorPicker } from "./component";
>ColorPicker : <T extends string>(props: Props<T> & { ref?: { current: HTMLButtonElement | null; } | undefined; }) => string

type StoryFn<T> = ((args: T extends (props: infer P) => any ? P : never) => string) & {
>StoryFn : StoryFn<T>
>args : T extends (props: infer P) => any ? P : never
>props : P

    args?: Partial<T extends (props: infer P) => any ? P : never>;
>args : Partial<T extends (props: infer P) => any ? P : never> | undefined
>props : P

};

// Story with StoryFn<typeof ImportedGenericComponent>
export const Default: StoryFn<typeof ColorPicker> = (args) => {
>Default : StoryFn<<T extends string>(props: Props<T> & { ref?: { current: HTMLButtonElement | null; } | undefined; }) => string>
>ColorPicker : <T extends string>(props: Props<T> & { ref?: { current: HTMLButtonElement | null; } | undefined; }) => string
>(args) => {    return "story";} : { (args: Props<string> & { ref?: { current: HTMLButtonElement | null; } | undefined; }): string; args: { disabled: false; }; }
>args : Props<string> & { ref?: { current: HTMLButtonElement | null; } | undefined; }

    return "story";
>"story" : "story"

};

// Property assignment on arrow function - TRIGGERS PANIC
Default.args = {
>Default.args = {    disabled: false,} : { disabled: false; }
>Default.args : Partial<Props<string> & { ref?: { current: HTMLButtonElement | null; } | undefined; }> | undefined
>Default : StoryFn<<T extends string>(props: Props<T> & { ref?: { current: HTMLButtonElement | null; } | undefined; }) => string>
>args : Partial<Props<string> & { ref?: { current: HTMLButtonElement | null; } | undefined; }> | undefined
>{    disabled: false,} : { disabled: false; }

    disabled: false,
>disabled : false
>false : false

};

